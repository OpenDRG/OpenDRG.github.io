(self.webpackChunkdrg_group=self.webpackChunkdrg_group||[]).push([[4826],{9481:(e,t,n)=>{var i={"./SS_INFO.csv":[1580,1580],"./SS_MAP.csv":[9227,9227],"./YB_SS_INFO.csv":[2661,2661],"./YB_ZD_INFO.csv":[6181,6181],"./ZD_INFO.csv":[7794,7794],"./ZD_MAP.csv":[7483,7483],"./测试数据集.csv":[7336,7336]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,23)))}a.keys=()=>Object.keys(i),a.id=9481,e.exports=a},401:(e,t,n)=>{var i={"./CC.json":[1314,1314],"./ICD_LOW_RISK.json":[5059,5059],"./MCC.json":[1551,1551]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,19)))}a.keys=()=>Object.keys(i),a.id=401,e.exports=a},8118:e=>{function t(e){return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}t.keys=()=>[],t.resolve=t,t.id=8118,e.exports=t},4634:(e,t,n)=>{var i={"./anyang_2021.js":[3149,3149],"./beijing_2022.js":[7369,7369],"./changsha_2023.js":[6937,6937],"./changzhou_2022.js":[6089,6089],"./chs_drg_10.js":[7071,7071],"./chs_drg_11.js":[6917,6917],"./foshan_2022.js":[1584,1584],"./fuzhou_2022.js":[1062,1062],"./guangxi_2022.js":[2994,2994],"./haerbin_2022.js":[1097,1097],"./handan_2022.js":[9113,9113],"./hefei_2023.js":[3145,3145],"./jinan_2023.js":[5344,5344],"./lanzhou_2023.js":[8813,8813],"./liaocheng_2022.js":[2067,2067],"./linfen_2022.js":[9687,9687],"./nanping_2023.js":[9444,9444],"./qingdao_2023.js":[9840,9840],"./suzhou_2023.js":[9863,9863],"./taizhou_2022.js":[5814,5814],"./wlmq_2022.js":[2369,2369],"./wuhan_2022.js":[2731,2731],"./wuxi_2022.js":[97,97],"./xjbt_2022.js":[7581,7581],"./yancheng_2023.js":[9095,9095],"./yantai_2023.js":[409,409],"./yinchuan_2023.js":[6722,6722],"./yunnan_2022.js":[345,345],"./zhejiang_2022.js":[2049,2049]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,23)))}a.keys=()=>Object.keys(i),a.id=4634,e.exports=a},4658:(e,t,n)=>{"use strict";var i=n(3089),a=n.n(i),r=n(7479),s=n.n(r),l=n(8802),o=n.n(l),c=n(3666),d=n.n(c),u=n(5432),p=n.n(u),h=n(4605),f=n.n(h),g=n(3192),v={};v.styleTagTransform=f(),v.setAttributes=d(),v.insert=o().bind(null,"head"),v.domAPI=s(),v.insertStyleElement=p(),a()(g.Z,v),g.Z&&g.Z.locals&&g.Z.locals;const m={chs_drg_11:"CHS-DRG 1.1标准版",chs_drg_10:"CHS-DRG 1.0修订版",beijing_2022:"北京2022",zhejiang_2022:"浙江2022(ZJ 1.1)",guangxi_2022:"广西2022",yunnan_2022:"云南2022",yancheng_2023:"江苏盐城2023",suzhou_2023:"江苏苏州2023",taizhou_2022:"江苏泰州2022",wuxi_2022:"江苏无锡2022",changzhou_2022:"江苏常州2022(CHS 1.0)",jinan_2023:"山东济南2023",linyi_2022:"山东临沂2022",qingdao_2023:"山东青岛2023",liaocheng_2022:"山东聊城2022",yantai_2023:"山东烟台2023",fuzhou_2022:"福建福州2022",nanping_2023:"福建南平2023",xian_2020:"陕西西安2020(CHS 1.0)",tongchuan_2022:"陕西铜川2022",chengdu_2022:"四川成都2022(CHS 1.0)",wuhan_2022:"湖北武汉2022",changsha_2023:"湖南长株潭衡2023",linfen_2022:"山西临汾2022",lanzhou_2023:"甘肃兰州2023",yinchuan_2023:"宁夏银川2023",wlmq_2022:"新疆乌鲁木齐2022",xjbt_2022:"新疆兵团2022",haerbin_2022:"黑龙江哈尔滨2022",anyang_2021:"河南安阳2021",foshan_2022:"广东佛山2022",hefei_2023:"安徽合肥2023",handan_2022:"河北邯郸2022"},y={tongchuan_2022:"chs_drg_11",linyi_2022:"chs_drg_11",xian_2020:"chs_drg_10",chengdu_2022:"chs_drg_10",chs_drg_11:"chs_drg_11",chs_drg_10:"chs_drg_10"},_={"01":"预防保健科","02":"全科医疗科","03":"内科","0301":"呼吸内科","0302":"消化内科","0303":"神经内科","0304":"心血管内科","0305":"血液内科","0306":"肾病学","0307":"内分泌","0308":"免疫学","0309":"变态反应","0310":"老年病","0311":"其他","04":"外科","0401":"普通外科","040101":"肝脏移植","040102":"胰腺移植","040103":"小肠移植","0402":"神经外科","0403":"骨科  ","0404":"泌尿外科  ","040401":"肾脏移植","0405":"胸外科","040501":"肺脏移植","0406":"心脏大血管外科","040601":"心脏移植","0407":"烧伤科","0408":"整形外科","0409":"其他","05":"妇产科","0501":"妇科","0502":"产科","0503":"计划生育","0504":"优生学","0505":"生殖健康与不孕症","0506":"其他","06":"妇女保健科","0601":"青春期保健","0602":"围产期保健","0603":"更年期保健","0604":"妇女心理卫生","0605":"妇女营养","0606":"其他","07":"儿科","0701":"新生儿","0702":"小儿传染病","0703":"小儿消化","0704":"小儿呼吸","0705":"小儿心脏病","0706":"小儿肾病","0707":"小儿血液病","0708":"小儿神经病学","0709":"小儿内分泌","0710":"小儿遗传病","0711":"小儿免疫","0712":"其他","08":"小儿外科","0801":"小儿普通外科","0802":"小儿骨科","0803":"小儿泌尿外科","0804":"小儿胸心外科","0805":"小儿神经外科","0806":"其他","09":"儿童保健科","0901":"儿童生长发育","0902":"儿童营养","0903":"儿童心理卫生","0904":"儿童五官保健","0905":"儿童康复","0906":"其他  ",10:"眼科",11:"耳鼻咽喉科",1101:"耳科",1102:"鼻科",1103:"咽喉科",1104:"其他",12:"口腔科",1201:"口腔内科",1202:"口腔颌面外科",1203:"正畸",1204:"口腔修复",1205:"口腔预防保健",1206:"其他",13:"皮肤科",1301:"皮肤病",1302:"性传播疾病",1303:"其他",14:"医疗美容科",15:"精神科",1501:"精神病",1502:"精神卫生",1503:"药物依赖",1504:"精神康复",1505:"社区防治",1506:"临床心理",1507:"司法精神",1508:"其他",16:"传染科",1601:"肠道传染病",1602:"呼吸道传染病",1603:"肝炎",1604:"虫媒传染病",1605:"动物源性传染病",1606:"蠕虫病",1607:"其它",17:"结核病科",18:"地方病科",19:"肿瘤科",20:"急诊医学科",21:"康复医学科",22:"运动医学科",23:"职业病科",2301:"职业中毒",2302:"尘肺",2303:"放射病",2304:"物理因素损伤",2305:"职业健康监护",2306:"其他",24:"临终关怀科",25:"特种医学与军事医学科",26:"麻醉科",27:"疼痛科",28:"重症医学科",30:"医学检验科",3001:"临床体液、血液",3002:"临床微生物学",3003:"临床生化检验",3004:"临床免疫、血清学",3005:"临床细胞分子遗传学",3006:"其他",31:"病理科",32:"医学影像科",3201:"X线诊断",3202:"CT诊断",3203:"磁共振成像诊断",3204:"核医学",3205:"超声诊断",3206:"心电诊断",3207:"脑电及脑血流图诊断",3208:"神经肌肉电图",3209:"介入放射学",3210:"放射治疗",3211:"其他",50:"中医科",5001:"内科",5002:"外科",5003:"妇产科",5004:"儿科",5005:"皮肤科",5006:"眼科",5007:"耳鼻咽喉科",5008:"口腔科",5009:"肿瘤科",5010:"骨伤科",5011:"肛肠科",5012:"老年病科",5013:"针灸科",5014:"推拿科",5015:"康复医学",5016:"急诊科",5017:"预防保健科",5018:"其他",51:"民族医学科",5101:"维吾尔医学",5102:"藏医学",5103:"蒙医学",5104:"彝医学",5105:"傣医学",5106:"其他",52:"中西医结合科",69:"其他业务科室"},b={1:"男",2:"女"},w={1:"医嘱离院",2:"医嘱转院",3:"医嘱转社区···",4:"非医嘱离院",5:"死亡",9:"其他"},x="病案号,性别,年龄,新生儿年龄天,新生儿出生体重,科室,住院天数,离院方式,诊断编码,手术操作编码,总费用".split(","),C="分组结果,分组过程,MDC,ADRG,DRG,RW".split(","),E="医院级别,医保类型,支付标准,倍率,类型,DRG结算费用,DRG盈亏".split(","),O="Index,gender,age,ageDay,weight,dept,inHospitalTime,leavingType,zdList,ssList,amount,status,messages,mdc,adrg,drg,rw,level,insuranceType,payment,ratio,type,drgAmount,gapAmount".split(","),j={1:"一级",2:"二级",3:"三级"},L={1:"职工",2:"居民"},k=qe(window.location.href).csv?qe(window.location.href).csv:"1",T=qe(window.location.href).info?qe(window.location.href).info:'22139971,1,73,27006,,13030305,8,1,"K80.501,K80.100x001,K83.109,K72.905,E11.900","51.8803,51.8701,51.2300"',I=(qe(window.location.href).method&&qe(window.location.href).method,qe(window.location.href).batch?qe(window.location.href).batch:"1"),S=qe(window.location.href).search?qe(window.location.href).search:"",D=qe(window.location.href).search?qe(window.location.href).searchCount:"",F=qe(window.location.href).calc?qe(window.location.href).calc:"",M=it(document.body,"","div-table"),A=it(M,"","div-full"),z=it(A,"病案信息CSV格式快捷输入",""),N=it(A,"","red"),H=at(A,"textarea","","","textarea-baInfo","div-block");H.value=T;const R=x.join(",")+"\n多个ICD编码用|分隔并加分号";z.title=R,A.querySelector("textarea").title=R;const Z=function(e,t,n,i){const a=document.createElement("input");a.type="checkbox",a.checked=!0;const r=document.createTextNode("使用ICD医保码"),s=document.createElement("div");return i&&i.split(";").forEach((e=>s.classList.add(e))),s.appendChild(a),s.appendChild(r),e.appendChild(s),a}(A,0,0,"div-inline");nt(A,"测试数据集",new URL(n(4958),n.b),"测试数据集.csv","margin-left;margin-right",""),nt(A,"导入模板-哈尔滨",new URL(n(2376),n.b),"导入模板-哈尔滨.xlsx","margin-left;margin-right",""),nt(A,"导入模板-佛山",new URL(n(3496),n.b),"导入模板-佛山.xlsx","margin-left;margin-right","");const B=it(M,"","div-full"),U=at(B,"input","病案号","label-short","input-long"),P=at(B,"select","性别","label-short","input-short"),Y=at(B,"input","年龄","label-short","input-short"),G=at(B,"input","年龄天","label-short","input-short"),q=at(B,"input","出生体重","label-short","input-short"),W=at(B,"input","科室","label-short","input-long"),X=at(B,"input","住院天数","label-short","input-short"),J=at(B,"select","离院方式","label-short","input-long"),K=at(B,"input","ICU时长","label-short","input-short"),$=it(B,"","margin-top;div-top"),V=it($,"","div-icd-code"),Q=at(V,"textarea","诊断编码(医保版)","label-margin-bottom","icd-code",""),ee=at(V,"input","","","div-icd-code"),te=it($,"","div-icd-desc");it(te,"诊断描述","div-block");const ne=it(te,"","div-icd-desc-inside"),ie=it(te,"输入ICD编码或名称查找诊断","div-block;margin-top;blue"),ae=it($,"","div-search-desc"),re=it(B,"","margin-top;div-top"),se=it(re,"","div-icd-code"),le=at(se,"textarea","手术操作(医保版)","label-margin-bottom","icd-code",""),oe=at(se,"input","","","div-icd-code"),ce=it(re,"","div-icd-desc");it(ce,"手术操作描述","div-block");const de=it(ce,"","div-icd-desc-inside"),ue=it(ce,"输入ICD编码或名称查找手术操作","div-block;margin-top;blue"),pe=it(re,"","div-block");Object.keys(b).forEach((e=>P.add(new Option(b[e],e)))),Object.keys(w).forEach((e=>J.add(new Option(w[e],e))));const he=it(M,"","div-full"),fe=it(he,"","div-inline-block"),ge=at(fe,"select","分组方案","label-short","","");Object.keys(m).forEach((e=>ge.add(new Option(m[e],e,null,qe(window.location.href).type==e))));const ve=rt(fe,"DRG分组","",""),me=it(he,"","div-inline-block"),ye=at(me,"select","医院等级","label-short","","");Object.keys(j).forEach((e=>ye.add(new Option(j[e],j[e],null,qe(window.location.href).level==e))));const _e=at(me,"select","医保类型","label-short","","");Object.keys(L).forEach((e=>_e.add(new Option(L[e],L[e],null,qe(window.location.href).insuranceType==e))));const be=at(me,"input","总费用","label-short","div-amount","");be.value=qe(window.location.href).amount?qe(window.location.href).amount:"";const we=rt(me,"费用测算","",""),xe=it(he,"","div-margin-left;red"),[Ce,Ee]=function(e,t,n,i){const a=document.createElement("input");a.type="file",a.accept=".csv,.xlsx,.xls",n&&n.split(";").forEach((e=>a.classList.add(e)));const r=document.createElement("div");return r.innerText="导入CSV或EXCEL分组",r.appendChild(a),e.appendChild(r),[a,r]}(he,0,"input-file");it(Ee,"支持标准格式(测试数据集)、国考格式(HQMS)、卫统格式(N041/N042)","margin-left;blue");const Oe=it(M,"","div-full;background;hide"),je=it(Oe,"","div-block"),Le=it(Oe,"","div-drg"),ke=it(Oe,"","div-drg"),Te=it(Oe,"","div-block"),Ie=it(M,"","div-full;background;hide");H.value=T,H.addEventListener("input",(e=>lt(e.target.value))),Z.addEventListener("click",(e=>(e.target.checked?(V.querySelector("label").textContent="诊断编码(医保版)",se.querySelector("label").textContent="手术操作(医保版)"):(V.querySelector("label").textContent="诊断编码(国临版)",se.querySelector("label").textContent="手术操作(国临版)"),Q.dispatchEvent(new Event("input")),void le.dispatchEvent(new Event("input"))))),ve.addEventListener("click",(()=>{let e=function(){if(""==Y.value)return Y.focus(),"年龄必须输入";if("0"==Y.value){if(""==G.value)return G.focus(),"新生儿的年龄天必须输入";if(""==q.value)return q.focus(),"新生儿的出生体重必须输入"}return""==X.value?(X.focus(),"住院天数必须输入"):""==Q.value?(Q.focus(),"诊断代码必须输入"):void 0}();if(e)xe.innerHTML=e;else{xe.innerHTML="",Oe.querySelectorAll("div").forEach((e=>e.innerText=""));var t=Ee.querySelector("input");t&&(t.value=""),Ie.style.display="none",async function(e,t){const{group_record:i,CC:a,MCC:r,CCE:s}=await n(4634)("./"+Je()+".js");let l={};l.Index=e[0],l.gender=e[1],l.age=e[2],l.ageDay=e[3],l.weight=e[4],l.dept=e[5],l.inHospitalTime=e[6],l.leavingType=e[7],l.zdList=e[8],l.ssList=e[9],l.remark=e.length>=11?parseInt(e[10]):0;let o=[];if(!t){const e=await n.e(7483).then(n.t.bind(n,7483,23)),t=await n.e(9227).then(n.t.bind(n,9227,23));let i={},a={};Object.values(e.default).reduce(((e,t,n)=>i[t[0]]=t[1]),{}),Object.values(t.default).reduce(((e,t,n)=>a[t[0]]=t[1]),{});for(let e in l.zdList)if(l.zdList[e]in i){let t=i[l.zdList[e]];o.push(l.zdList[e]+"转为医保码"+t),l.zdList[e]=t}for(let e in l.ssList)if(l.ssList[e]in a){let t=a[l.ssList[e]];o.push(l.ssList[e]+"转为医保码"+t),l.ssList[e]=t}}let c=i(l);return c.messages.unshift.apply(c.messages,o),c.messages.push.apply(c.messages,ot(l.zdList,a,r,s)),{drg:c.drg,messages:c.messages}}(function(){let e=[];return[U,P,Y,G,q,W,X,J,Q,le,K].forEach((t=>{if("text"==t.type)t.value.trim()?e.push(t.value.trim()):e.push("");else if("select-one"==t.type){for(let n=0;n<t.options.length;n++)if(t.options[n].selected){e.push(t.options[n].value);break}t.selected}else"textarea"==t.type&&(t.value.trim()?e.push(t.value.trim().split("\n")):e.push(""))})),e}(),Z.checked).then((e=>(Le.innerHTML=e.drg,je.innerHTML=function(e){const t=document.createElement("ul");e.forEach((e=>{let n=document.createElement("li");n.innerHTML=e,t.appendChild(n)}));const n=document.createElement("div");return n.appendChild(t),n.innerHTML}(e.messages),e.drg))).then(pt).then(ht).then((e=>Te.innerHTML=ft(e)))}})),we.addEventListener("click",(()=>{let e=""==Le.innerText?(ve.focus(),"请先分组"):""==be.value?(be.focus(),"总费用必须输入"):parseFloat(be.value)?void 0:(be.focus(),"总费用必须是数字");e?xe.innerHTML=e:ht(Le.innerText).then((e=>Te.innerHTML=ft(e)))})),Q.addEventListener("input",(e=>{e.target.style.height="20px",e.target.style.height=e.target.scrollHeight+"px",ne.style.height=e.target.style.height,e.target.value.trim()?async function(e,t){let i=t?"YB_ZD_INFO":"ZD_INFO";const a=await n(9481)("./"+i+".csv");const r=await n(401)("./MCC.json"),s=await n(401)("./CC.json");return e.map(((e,t)=>{let n=Object.values(a.default).find((t=>t[0]==e)),i=n?n[1]:"无效编码";return 0==t?i:Object.values(r.default).includes(e)?'<font color="red"><strong>MCC</strong></font> '+i:Object.values(s.default).includes(e)?'<font color="red"><strong>CC</strong></font> '+i:i}))}(e.target.value.split("\n"),Z.checked).then((e=>ne.innerHTML=e.join("<br>"))):ne.innerHTML=""})),le.addEventListener("input",(e=>{e.target.style.height="20px",e.target.style.height=e.target.scrollHeight+"px",de.style.height=e.target.style.height,e.target.value.trim()?async function(e,t){let i=t?"YB_SS_INFO":"SS_INFO";const a=await n(9481)("./"+i+".csv");return e.map(((e,t)=>{let n=Object.values(a.default).find((t=>t[0]==e));return n?n[1]:"无效编码"}))}(e.target.value.split("\n"),Z.checked).then((e=>de.innerHTML=e.join("<br>"))):de.innerHTML=""}));let Se=!0;ee.addEventListener("compositionstart",(()=>{Se=!1})),ee.addEventListener("compositionend",(()=>{Se=!0})),ee.addEventListener("input",(e=>{setTimeout(Ue,100)})),ee.addEventListener("keypress",(e=>{if(13==e.keyCode){let e=ae.querySelector("button");e&&e.focus()}})),oe.addEventListener("compositionstart",(()=>{Se=!1})),oe.addEventListener("compositionend",(()=>{Se=!0})),oe.addEventListener("input",(e=>{setTimeout(Ye,100)})),oe.addEventListener("keypress",(e=>{if(13==e.keyCode){let e=pe.querySelector("button");e&&e.focus()}})),Ce.addEventListener("change",(e=>{if(!e.target.files||0==e.target.files.length)return;Oe.style.display="none";var t=he.querySelector(".red");t&&(t.value="");let i=e.target.value.substring(e.target.value.lastIndexOf(".")).toLowerCase();if(".xls"==i||".xlsx"==i){let t=new FileReader;t.readAsBinaryString(e.target.files[0]),t.onload=e=>async function(e){const{read:t,utils:i}=await n.e(7550).then(n.bind(n,7550));let a=t(e,{type:"binary"});return i.sheet_to_csv(a.Sheets[a.SheetNames[0]])}(e.target.result).then(We)}else{let t=new FileReader;t.readAsText(e.target.files[0],"GB2312"),t.onload=e=>We(e.target.result)}})),ge.addEventListener("change",(e=>{var t;(t=he.querySelector(".red"))&&Re(t),(t=Ee.querySelector("input"))&&Re(t),"foshan_2022"==Je()?(Be(K),B.querySelectorAll("label").forEach((e=>"ICU时长"==e.innerText&&Be(e)))):(Ze(K),B.querySelectorAll("label").forEach((e=>"ICU时长"==e.innerText&&Ze(e))))})),H.addEventListener("input",(e=>lt(e.target.value))),H.dispatchEvent(new Event("input")),Q.dispatchEvent(new Event("input")),le.dispatchEvent(new Event("input")),ge.dispatchEvent(new Event("change")),k||(A.style.display="none"),S||(ee.style.display="none",ae.style.display="none",ie.style.display="none",oe.style.display="none",pe.style.display="none",ue.style.display="none"),I||(Ee.style.display="none"),F||(me.style.display="none");const De=(e,t)=>{const n={};return e.forEach((function(e){const i=JSON.stringify(t(e));n[i]=n[i]||[],n[i].push(e)})),n},Fe=(e,t)=>{if("function"==typeof t){let n={};return Object.keys(e).forEach((i=>n[i.replaceAll('"',"")]=t(e[i]))),n}return t instanceof Array?Object.keys(e).map((n=>{let i=[n.replaceAll('"',"")];return t.forEach((t=>i.push(t(e[n])))),i})):Object.keys(e)},Me=(e,t)=>(e.filter(t).length/e.length).toFixed(4),Ae=(e,t)=>new Set(e.map((e=>e[t]))).size,ze=e=>e.length,Ne=(e,t)=>e.filter((e=>e[t]&&""!=e[t])).map((e=>parseFloat(e[t]))).reduce(((e,t)=>e+t),0)/e.filter((e=>e[t]&&""!=e[t])).length,He=(e,t)=>e.map((e=>parseFloat(e[t]))).reduce(((e,t)=>e+t));function Re(e){e.value=""}function Ze(e){e.style.display="none"}function Be(e){e.style.display="block"}function Ue(){let e,t;ae.innerHTML="",Se?async function(e,t){let i=t?"YB_ZD_INFO":"ZD_INFO";const a=await n(9481)("./"+i+".csv");let r;if(/^[\u4e00-\u9fa5]*$/.test(e)){if(e.length<=1)return[];r=Object.values(a.default).filter((t=>t[1]?.includes(e))).slice(0,D?10:1)}else{if(e.length<=2)return[];e[0]>="a"&&e[0]<="z"&&(e=e[0].toUpperCase()+e.substring(1)),r=Object.values(a.default).filter((t=>t[0]?.includes(e))).slice(0,D?10:1)}return r}(ee.value,Z.checked).then((n=>{ae.innerHTML="",n.forEach((n=>{t=it(ae,"","div-block"),e=rt(t,n[0]),it(t,n[1]),e.addEventListener("click",Pe)}))})):ae.innerHTML=""}function Pe(e){var t;t=e.target.innerText,Q.value=""==Q.value?t:Q.value+"\n"+t,Q.dispatchEvent(new Event("input")),ee.value="",ee.dispatchEvent(new Event("input")),ee.focus()}function Ye(){let e,t;Se?async function(e,t){let i=t?"YB_SS_INFO":"SS_INFO";const a=await n(9481)("./"+i+".csv");let r;if(/^[\u4e00-\u9fa5]*$/.test(e)){if(e.length<=1)return[];r=Object.values(a.default).filter((t=>S?t[1]?.includes(e):t[1]==e))}else{if(e.length<=2)return[];e[0]>="a"&&e[0]<="z"&&(e=e[0].toUpperCase()+e.substring(1)),r=Object.values(a.default).filter((t=>S?t[0]?.includes(e):t[0]==e))}return r.slice(0,10)}(oe.value,Z.checked).then((n=>{pe.innerHTML="",n.forEach((n=>{t=it(pe,"","div-block"),e=rt(t,n[0]),it(t,n[1]),e.addEventListener("click",Ge)}))})):pe.innerHTML=""}function Ge(e){var t;t=e.target.innerText,le.value=""==le.value?t:le.value+"\n"+t,le.dispatchEvent(new Event("input")),oe.value="",oe.dispatchEvent(new Event("input")),oe.focus()}function qe(e){let t=e.split("?")[1];const n=new URLSearchParams(t);return Object.fromEntries(n.entries())}async function We(e){return(await n.e(1744).then(n.t.bind(n,1744,23))).parse(e,{complete:Ke})}function Xe(){return ge.value}function Je(){let e=ge.value;return e in y&&(e=y[e]),e}function Ke(e){const t=e.data[0].map((e=>e.toUpperCase()));let i,a=e.data.slice(1);if(""==a[a.length-1]&&a.pop(),t.includes("病案号"))if(t.includes("ICU时长")){let e=[...x,"ICU时长"];const r=e.filter((e=>!t.includes(e)));if(r.length>0)return void it(Ee,"字段缺失："+r.join(","),"margin-left;red");i=async function(e,t,i){const{group_record:a,CC:r,MCC:s,CCE:l}=await n(4634)("./"+Je()+".js"),o=await n.e(7483).then(n.t.bind(n,7483,23)),c=await n.e(9227).then(n.t.bind(n,9227,23));let d={},u={};Object.values(o.default).reduce(((e,t,n)=>d[t[0]]=t[1]),{}),Object.values(c.default).reduce(((e,t,n)=>u[t[0]]=t[1]),{});let p=e.map((e=>{let n={};n.Index=e[t[0]],n.gender=e[t[1]],n.age=e[t[2]],n.ageDay=e[t[3]],n.ageDay="-"==n.ageDay||""==n.ageDay?0:n.ageDay,n.weight=e[t[4]],n.weight="-"==n.weight||""==n.weight?0:n.weight,n.dept=e[t[5]],n.inHospitalTime=e[t[6]],n.leavingType=e[t[7]],n.zdList=e[t[8]]?.split(","),n.ssList=e[t[9]]?.split(","),n.amount=e[t[10]],n.remark=e[t[11]],i||(n.zdList=n.zdList.map((e=>e in d?d[e]:e)),n.ssList=n.ssList.map((e=>e in u?u[e]:e)));let o=a(n);return"分组成功"!=o.status&&"歧义病案"!=o.status||o.messages.push.apply(o.messages,ot(n.zdList,r,s,l)),o=Object.assign(o,n),o}));return p}(a,e.map((e=>t.indexOf(e))),Z.checked)}else if(t.includes("主要诊断编码")&&t.includes("手术及操作编码1")){let e=[...x.slice(0,8),x[10],...E.slice(0,2)];const r=e.filter((e=>!t.includes(e)));if(r.length>0)return void it(Ee,"字段缺失："+r.join(","),"margin-left;red");let s=t.filter((e=>"主要诊断编码"==e||e.startsWith("其他诊断编码"))),l=t.filter((e=>e.startsWith("手术及操作编码")));i=async function(e,t,i,a,r){const{group_record:s,CC:l,MCC:o,CCE:c}=await n(4634)("./"+Je()+".js"),d=await n.e(7483).then(n.t.bind(n,7483,23)),u=await n.e(9227).then(n.t.bind(n,9227,23));let p={},h={};Object.values(d.default).reduce(((e,t,n)=>p[t[0]]=t[1]),{}),Object.values(u.default).reduce(((e,t,n)=>h[t[0]]=t[1]),{});let f=e.map((e=>{let n={};n.Index=e[t[0]],n.gender=e[t[1]],n.age=e[t[2]],n.ageDay=e[t[3]],n.ageDay="-"==n.ageDay||""==n.ageDay?0:n.ageDay,n.weight=e[t[4]],n.weight="-"==n.weight||""==n.weight?0:n.weight,n.dept=e[t[5]],n.inHospitalTime=e[t[6]],n.leavingType=e[t[7]],n.amount=e[t[8]],n.zdList=i.map((t=>e[t])).filter((e=>""!=e)),n.ssList=a.map((t=>e[t])).filter((e=>""!=e)),r||(n.zdList=n.zdList.map((e=>e in p?p[e]:e)),n.ssList=n.ssList.map((e=>e in h?h[e]:e)));let d=s(n);return"分组成功"!=d.status&&"歧义病案"!=d.status||d.messages.push.apply(d.messages,ot(n.zdList,l,o,c)),d=Object.assign(d,n),d.level=e[t[9]],d.insuranceType=e[t[10]],d}));return f}(a,e.map((e=>t.indexOf(e))),s.map((e=>t.indexOf(e))),l.map((e=>t.indexOf(e))),Z.checked)}else{if(!t.includes("诊断编码")||!t.includes("手术操作编码"))return void it(Ee,"测试文件格式不正确","margin-left;red");{let e=x;const r=e.filter((e=>!t.includes(e)));if(r.length>0)return void it(Ee,"字段缺失："+r.join(","),"margin-left;red");i=async function(e,t,i){const{group_record:a,CC:r,MCC:s,CCE:l}=await n(4634)("./"+Je()+".js"),o=await n.e(7483).then(n.t.bind(n,7483,23)),c=await n.e(9227).then(n.t.bind(n,9227,23));let d={},u={};Object.values(o.default).reduce(((e,t,n)=>d[t[0]]=t[1]),{}),Object.values(c.default).reduce(((e,t,n)=>u[t[0]]=t[1]),{});let p=e.map((e=>{let n={};n.Index=e[t[0]],n.gender=e[t[1]],n.age=e[t[2]],n.ageDay=e[t[3]],n.ageDay="-"==n.ageDay||""==n.ageDay?0:n.ageDay,n.weight=e[t[4]],n.weight="-"==n.weight||""==n.weight?0:n.weight,n.dept=e[t[5]],n.inHospitalTime=e[t[6]],n.leavingType=e[t[7]],n.zdList=e[t[8]]?.split(","),n.ssList=e[t[9]]?.split(","),n.amount=e[t[10]],i||(n.zdList=n.zdList.map((e=>e in d?d[e]:e)),n.ssList=n.ssList.map((e=>e in u?u[e]:e)));let o=a(n);return"分组成功"!=o.status&&"歧义病案"!=o.status||o.messages.push.apply(o.messages,ot(n.zdList,r,s,l)),o=Object.assign(o,n),o}));return p}(a,e.map((e=>t.indexOf(e))),Z.checked)}}else if(t.includes("A01")){let e="A48,A12C,A14,A16,A18X01,B16C,B20,B34C,D01".split(","),n=t.filter((e=>"C03C"==e||e.startsWith("C06X"))),r=t.filter((e=>"C14X01C"==e||e.startsWith("C35X")));const s=e.filter((e=>!t.includes(e)));if(s.length>0)return void it(Ee,"字段缺失："+s.join(","),"margin-left;red");i=ut(a,e.map((e=>t.indexOf(e))),n.map((e=>t.indexOf(e))),r.map((e=>t.indexOf(e))))}else if(t.includes("USERNAME")&&t.includes("ZB")){let e;if(t.includes("BZYZS_NL"))e="BAH,XB,NL,BZYZS_NL,XSETZ,CYKB,SJZY,LYFS,ZFY".split(",");else{if(!t.includes("BZYZSNL"))return void it(Ee,"中医病案文件格式不正确","margin-left;red");e="BAH,XB,NL,BZYZSNL,XSECSTZ,CYKB,SJZYTS,LYFS,ZFY".split(",")}let n=t.filter((e=>e.startsWith("ZYZD_JBBM"))),r=t.filter((e=>e.startsWith("SSJCZBM")));const s=e.filter((e=>!t.includes(e)));if(s.length>0)return void it(Ee,"字段缺失："+s.join(","),"margin-left;red");i=ut(a,e.map((e=>t.indexOf(e))),n.map((e=>t.indexOf(e))),r.map((e=>t.indexOf(e))))}else{if(!t.includes("USERNAME"))return void it(Ee,"文件格式不正确","margin-left;red");{let e="BAH,XB,NL,BZYZSNL,XSECSTZ,RYKB,SJZYTS,LYFS,ZFY".split(","),n=t.filter((e=>e.startsWith("JBDM"))),r=t.filter((e=>e.startsWith("SSJCZBM")));const s=e.filter((e=>!t.includes(e)));if(s.length>0)return void it(Ee,"字段缺失："+s.join(","),"margin-left;red");i=ut(a,e.map((e=>t.indexOf(e))),n.map((e=>t.indexOf(e))),r.map((e=>t.indexOf(e))))}}i.then($e).then(Ve).then(Qe)}async function $e(e){try{const t=await n(2646)("./"+Xe()+".csv");if(""==t[t.length-1]&&t.default.pop(),t[0].length>2){let n={},i=t[0].slice(2);Object.values(t.default).slice(1).reduce(((e,t,a)=>{let r={};for(let e in i)r[i[e]]=t[parseInt(e)+2];n[t[0]]=r}),{}),e.forEach((e=>Object.assign(e,function(e,t){if(!t||!t.hasOwnProperty("RW"))return e.rw=void 0,e;if(e.rw=t.RW,"haerbin_2022"==Je()){if(!e.hasOwnProperty("level"))return e;"1"==e.level&&e.insuranceType.includes("居民")?e.payment=e.rw*t["居民费率（I级）"]:"1"!=e.level||e.insuranceType.includes("居民")?"2"==e.level&&e.insuranceType.includes("居民")?e.payment=e.rw*t["居民费率（II级）"]:"2"!=e.level||e.insuranceType.includes("居民")?"3"==e.level&&e.insuranceType.includes("居民")?e.payment=e.rw*t["居民费率（III级）"]:"3"!=e.level||e.insuranceType.includes("居民")||(e.payment=e.rw*t["职工费率（III级）"]):e.payment=e.rw*t["职工费率（II级）"]:e.payment=e.rw*t["职工费率（I级）"],e.ratio=e.amount/e.payment,e.ratio<.4?(e.type="低倍",e.drgAmount=e.amount):"1"==e.level&&e.ratio>3?(e.type="高倍",e.drgAmount=e.payment*(1.7+.5*(e.ratio-3))):"1"!=e.level&&e.ratio>2?(e.type="高倍",e.drgAmount=e.payment*(1.7+.5*(e.ratio-2))):(e.type="正常",e.drgAmount=e.payment),e.gapAmount=e.drgAmount-e.amount}else{if("yunnan_2022"!=Je())return e;{const t={一级:6199,二级:6199,三级:10630};e.payment=e.rw*t[ye.value],e.ratio=e.amount/e.payment,e.ratio<=.3?(e.type="低倍",e.drgAmount=e.amount):e.inHospitalTime>=60||e.ratio>=3?(e.type="高倍",e.drgAmount=e.amount):(e.type="正常",e.drgAmount=e.payment),e.gapAmount=e.drgAmount-e.amount}}return e}(e,n[e.drg]))))}}catch(e){console.log(e)}return e}async function Ve(e){e.forEach((e=>e.dept=_.hasOwnProperty(e.dept)?_[e.dept]:e.dept));let t=Fe(De(e,(e=>e.status)),ze);t["总数"]=e.length,t["入组率"]=tt((t["分组成功"]??0)/t["总数"]);let i=e.filter((e=>"分组成功"==e.status)),a={平均住院时间:Ne(e,"inHospitalTime")?.toFixed(2),平均住院费用:Ne(e,"amount")?.toFixed(2),DRG组数:Ae(i,"drg")},r={data:e,group_stat:t,total_stat:a};e[0].hasOwnProperty("rw")&&(r.total_stat.CMI=Ne(i,"rw")?.toFixed(4),e[0].hasOwnProperty("drgAmount")&&(r.total_stat["DRG例均结算"]=Ne(i,"drgAmount")?.toFixed(2),r.total_stat["DRG例均盈亏"]=Ne(i,"gapAmount")?.toFixed(2)));try{const t=await n.e(5059).then(n.t.bind(n,5059,19));let i=e.filter((e=>e.zdList.length>0&&e.zdList[0]&&Object.values(t.default).includes(e.zdList[0].substring(0,3)))),a=i.filter((e=>"5"==e.leavingType)),s=0==a.length||0==i.length?0:tt(a.length/i.length,3);r.arr_icd_low_risk_death=a,r.icd_low_risk_death_rate=s}catch(e){console.log(e)}try{const t=await n(8118)("./DRG_LOW_RISK-"+Je()+".json");let i=e.filter((e=>Object.values(t.default).includes(e.drg))),a=i.filter((e=>"5"==e.leavingType)),s=0==a.length||0==i.length?0:tt(a.length/i.length,3);r.arr_drg_low_risk_death=a,r.drg_low_risk_death_rate=s}catch(e){console.log(e)}if(e&&e.length>0&&e[0].hasOwnProperty("rw")){let t=Fe(De(e,(e=>e.dept)),[e=>ze(e,"Index"),e=>Me(e,(e=>"分组成功"==e.status)),e=>Ae(e,"drg"),e=>Ne(e,"rw")?.toFixed(4),e=>Ne(e,"inHospitalTime")?.toFixed(2),e=>Ne(e,"amount")?.toFixed(2),e=>Ne(e,"drgAmount")?.toFixed(2),e=>Ne(e,"gapAmount")?.toFixed(2)]),a=Fe(De(i,(e=>e.drg)),(e=>Ne(e,"inHospitalTime"))),s=Fe(De(i,(e=>e.drg)),(e=>Ne(e,"amount"))),l=Fe(De(i,(e=>e.dept)),(e=>Fe(De(e,(e=>e.drg)),(e=>He(e,"inHospitalTime"))))),o=Fe(De(i,(e=>e.dept)),(e=>Fe(De(e,(e=>e.drg)),(e=>He(e,"amount"))))),c=Fe(De(e,(e=>e.dept)),(e=>Ae(e,"Index"))),d=Object.keys(l).map((e=>Object.keys(l[e]).map((t=>l[e][t]/a[t])).reduce(((e,t)=>e+t))/c[e])),u=Object.keys(o).map((e=>Object.keys(o[e]).map((t=>o[e][t]/s[t])).reduce(((e,t)=>e+t))/c[e]));t.forEach((t=>{const n=document.createElement("a");n.text="下载",n.setAttribute("download",t[0]+".csv"),n.href=st(et(e.filter((e=>e.dept==t[0])))),t.push.apply(t,[d[Object.keys(l).indexOf(t[0])]?.toFixed(4),u[Object.keys(o).indexOf(t[0])]?.toFixed(4),n])})),t.unshift("科室,病例数,入组率,DRG组数,CMI,平均住院时间,平均住院费用,DRG例均结算,DRG例均盈亏,时间消耗指数,费用消耗指数,分组结果下载".split(",")),r.dept_stat=t;let p=Fe(De(e,(e=>e.drg)),[e=>ze(e,"Index"),e=>Ne(e,"inHospitalTime")?.toFixed(2),e=>Ne(e,"amount")?.toFixed(2),e=>Ne(e,"drgAmount")?.toFixed(2),e=>Ne(e,"gapAmount")?.toFixed(2),e=>(He(e,"drgAmount")/He(e,"amount"))?.toFixed(2)]),h={"0000":"未入组"},f={};try{const e=await n(2646)("./"+Xe()+".csv");Object.values(e.default).reduce(((e,t,n)=>{h[t[0]]=t[1],f[t[0]]=t[2]}),{})}catch(e){console.log(e)}p.forEach((e=>{f.hasOwnProperty(e[0])&&e.splice(1,0,f[e[0]])||e.splice(1,0,""),h.hasOwnProperty(e[0])&&e.splice(0,1,e[0]+"-"+h[e[0]])})),p.sort(((e,t)=>t[2]-e[2])),p.unshift("DRG病组,RW,病例数,平均住院时间,平均住院费用,DRG例均结算,DRG例均盈亏,报销费用占比".split(",")),r.drgs_stat=p}return console.log("result",r),r}function Qe(e){nt(Ie,"分组结果下载",st(et(e.data)),"DRG分组结果.csv","","div-block"),it(Ie,ft(e.group_stat),""),it(Ie,ft(e.total_stat),"");let t=it(Ie,"","div-block");e.hasOwnProperty("icd_low_risk_death_rate")&&it(t,"ICD低风险病种死亡率："+e.icd_low_risk_death_rate,"red"),e.hasOwnProperty("arr_icd_low_risk_death")&&0!=e.arr_icd_low_risk_death.length&&nt(t,"下载",st(et(e.arr_icd_low_risk_death)),"ICD低风险病种病案.csv","",""),e.hasOwnProperty("drg_low_risk_death_rate")&&it(t,"DRG低风险组死亡率："+e.drg_low_risk_death_rate,"red"),e.hasOwnProperty("arr_drg_low_risk_death")&&0!=e.arr_drg_low_risk_death.length&&nt(t,"下载",st(et(e.arr_drg_low_risk_death)),"DRG低风险组病案.csv","",""),e.hasOwnProperty("dept_stat")&&it(Ie,ft(e.dept_stat),"div-block"),e.hasOwnProperty("drgs_stat")&&it(Ie,ft(e.drgs_stat),"div-block"),Ie.style.display="block"}function et(e){let t,n;e[0].hasOwnProperty("remark")?(t=[...x,"ICU时长",...C,...E],n=[...O.slice(0,x.length),"remark",...O.slice(x.length)]):(t=[...x,...C,...E],n=O);let i=e.map((e=>Object.keys(e).sort(((e,t)=>n.indexOf(e)-n.indexOf(t))).map((t=>t.includes("List")||"messages"==t?'"'+e[t]+'"':e[t])).join(",")));return i.unshift("\ufeff"+Object.keys(e[0]).sort(((e,t)=>n.indexOf(e)-n.indexOf(t))).map((e=>t[n.indexOf(e)])).join(",")),i.join("\n")}function tt(e,t=1){return Number(100*e).toFixed(t)+"%"}function nt(e,t,n,i,a,r){const s=document.createElement("a");s.text=t,a&&a.split(";").forEach((e=>s.classList.add(e))),i&&s.setAttribute("download",i),s.href=n;const l=document.createElement("div");return r&&l.classList.add(r),l.appendChild(s),e.appendChild(l),s}function it(e,t,n){const i=document.createElement("div");return i.innerHTML=t,n&&n.split(";").forEach((e=>i.classList.add(e))),e.appendChild(i),i}function at(e,t,n,i,a,r){const s=document.createElement(t);a&&a.split(";").forEach((e=>s.classList.add(e)));const l=document.createElement("div");if(r&&r.split(";").forEach((e=>l.classList.add(e))),n){const e=document.createElement("label");e.htmlFor=s,e.textContent=n,i&&e.classList.add(i),l.appendChild(e)}return l.appendChild(s),e.appendChild(l),s}function rt(e,t,n,i){const a=document.createElement("button");a.innerText=t,n&&n.split(";").forEach((e=>a.classList.add(e)));const r=document.createElement("div");return i&&i.split(";").forEach((e=>r.classList.add(e))),r.appendChild(a),e.appendChild(r),a}function st(e){let t=new Blob([e],{type:".csv, application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel"});return window.URL.createObjectURL(t)}function lt(e){if(""==e.trim())return void(k&&(N.innerText="请输入病案信息"));const t=function(e){let t,n=e,i=new RegExp('"(.*?)"',"g");for(;t=i.exec(e);)n=n.replace(t[0],t[1].replaceAll(",","|"));return n}(e).split(",");t.length<10?k&&(N.innerText="病案信息格式不正确，信息不全"):(k&&(N.innerText=""),[U,P,Y,G,q,W,X,J,Q,le,K].forEach(((e,n)=>{let i=t[n];if(i&&i.lastIndexOf(".")>=0&&".0"==i.slice(i.lastIndexOf("."))?i=i.substring(0,i.lastIndexOf(".")):i||e!=K||(i="0"),"text"==e.type)e.value=i;else if("select-one"==e.type){for(let t=0;t<e.options.length;t++)if(e.options[t].value==i){e.selectedIndex=t;break}}else"textarea"==e.type&&(e.value=i.split("|").join("\n"))})),Q.dispatchEvent(new Event("input")),le.dispatchEvent(new Event("input")))}function ot(e,t,n,i){let a=[],r=i.hasOwnProperty(e[0])?i[e[0]]:"",s=e.slice(1).filter((e=>n.hasOwnProperty(e)&&(r||r!==n[e]))),l=e.slice(1).filter((e=>t.hasOwnProperty(e)&&(r||r!==n[e])));return r&&a.push("主诊断"+e[0]+"排除表"+r),s&&s.length>0&&a.push(s.join("/")+"属于MCC"),l&&l.length>0&&a.push(l.join("/")+"属于CC"),a}function ct(e){let t=(e=e.trim()).indexOf(".");return t>=0?1==t||e.length-t<=4?(n=e.slice(0,t),2,(Array(2).join("0")+n).slice(-2)+"."+dt(e.slice(t+1),4)):e:"00."+dt(e,4);var n}function dt(e,t){return(e+Array(t).join("0")).slice(0,t)}async function ut(e,t,i,a){const{group_record:r,CC:s,MCC:l,CCE:o}=await n(4634)("./"+Je()+".js"),c=await n.e(7483).then(n.t.bind(n,7483,23)),d=await n.e(9227).then(n.t.bind(n,9227,23));let u={},p={};return Object.values(c.default).reduce(((e,t,n)=>u[t[0]]=t[1]),{}),Object.values(d.default).reduce(((e,t,n)=>p[t[0]]=t[1]),{}),e.map((e=>{let n={};n.Index=e[t[0]],n.gender=e[t[1]],n.age=e[t[2]],n.ageDay=e[t[3]],n.ageDay="-"==n.ageDay||""==n.ageDay?0:n.ageDay,n.weight=e[t[4]],n.weight="-"==n.weight||""==n.weight?0:n.weight,n.dept=e[t[5]],n.inHospitalTime=e[t[6]],n.leavingType=e[t[7]],n.amount=e[t[8]],n.zdList=i.map((t=>e[t])).filter((e=>""!=e)).map((e=>e in u?u[e]:e)),n.ssList=a.map((t=>e[t])).filter((e=>""!=e&&"-"!=e)).map(ct).map((e=>e in p?p[e]:e));let c=r(n);return c.messages.push.apply(c.messages,ot(n.zdList,s,l,o)),c=Object.assign(c,n),c}))}async function pt(e){try{const t=await n(2646)("./"+Xe()+".csv");let i=Object.values(t.default).slice(1).find((t=>t[0]==e));i&&i.length>2?ke.innerText=i[1]+" "+i[2]:i&&i.length>1&&(ke.innerText=i[1])}catch(e){console.log(e)}return Oe.style.display="block",e}async function ht(e){try{const t=await n(2646)("./"+Xe()+".csv");let i=Object.values(t.default).slice(1).find((t=>t[0]==e));if(i&&i.length>2){let e={};return t[0].slice(2).forEach(((t,n)=>e[t]=i[n+2])),"yunnan_2022"==Xe()?function(e){let t=e.RW,n={一级:6199,二级:6199,三级:10630}[ye.value]*t,i=parseFloat(be.value),a=i/n,r="",s="";return a>=3||X.value>=60?(r="高倍",s="医院每年前5%按项目付费"):a<=.3?(r="低倍",s="按项目付费"):(r="正常",s="按DRG支付标准付费"),[["权重","支付标准","总费用","倍率","类型","结算政策"],[t,n.toFixed(2),i,a.toFixed(2),r,s]]}(e):"haerbin_2022"==Xe()?function(e){let t,n=e.RW;"三级"==ye.value&&"居民"==_e.value?t=n*e["居民费率（I级）"]:"三级"==ye.value&&"职工"==_e.value?t=n*e["职工费率（I级）"]:"二级"==ye.value&&"居民"==_e.value?t=n*e["居民费率（II级）"]:"二级"==ye.value&&"职工"==_e.value?t=n*e["职工费率（II级）"]:"一级"==ye.value&&"居民"==_e.value?t=n*e["居民费率（III级）"]:"一级"==ye.value&&"职工"==_e.value&&(t=n*e["职工费率（III级）"]);let i,a=parseFloat(be.value),r=a/t,s="";return r<.4?(s="低倍",i=a):"三级"==ye.value&&r>3?(s="高倍",i=t*(1.7+.5*(r-3))):"三级"!=ye.value&&r>2?(s="高倍",i=t*(1.7+.5*(r-2))):(s="正常",i=t),[["权重","支付标准","总费用","倍率","类型","DRG结算费用"],[n,t.toFixed(2),a,r.toFixed(2),s,i.toFixed(2)]]}(e):e}}catch(e){return console.log(e),[]}}function ft(e){if(!e)return"";let t,n=document.createElement("table"),i=document.createElement("thead"),a=document.createElement("tbody");if(e instanceof Array)t=document.createElement("tr"),e[0].forEach((e=>{let n=document.createElement("th");n.innerHTML=e,t.appendChild(n)})),i.appendChild(t),e.slice(1).forEach((e=>{t=document.createElement("tr"),e.forEach((e=>{let n=document.createElement("td");void 0===e||"number"==typeof e&&isNaN(e)||"NaN"===e?n.innerText="":"string"==typeof e?n.innerText=e.replace(/([0-9]+.[0-9]{4})[0-9]*/,"$1"):"number"==typeof item?n.innerText=e:"object"==typeof e?n.appendChild(e):n.innerText=e,t.appendChild(n)})),a.appendChild(t)}));else{t=document.createElement("tr");for(const n of Object.keys(e)){let e=document.createElement("th");e.innerHTML=n,t.appendChild(e)}i.appendChild(t),t=document.createElement("tr");for(const n of Object.values(e)){let e=document.createElement("td");void 0===n||"number"==typeof n&&isNaN(n)||"NaN"===n?e.innerText="":"string"==typeof n?e.innerText=n.replace(/([0-9]+.[0-9]{4})[0-9]*/,"$1"):"number"==typeof n?e.innerText=n:"object"==typeof n?e.appendChild(n):e.innerText=n,t.appendChild(e)}a.appendChild(t)}n.appendChild(i),n.appendChild(a);const r=document.createElement("div");return r.appendChild(n),r.innerHTML}},3192:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(4799),a=n.n(i),r=n(7884),s=n.n(r)()(a());s.push([e.id,":root{\n  --div-full-width:860px;\n}\n\n@media (max-width: 1000px) {\n  :root{\n    --div-full-width:410px;\n  }\n}\n\n.red {\n  color: red;\n}\n\n.blue {\n  color: blue;\n}\n\ndiv {\n  margin-top:2px;margin-right:10px;display:inline-block;\n  /* border: 1px solid red; */\n}\n\nlabel,a,div,button {\n  font-size:11pt;font-family:'Microsoft YaHei';\n}\n\n.label-margin-bottom{\n  margin-bottom:2px;\n}\n\n.margin-top {\n  margin-top: 6px;\n}\n\n.margin-left {\n  margin-left: 20px;\n}\n\n.margin-right {\n  margin-right: 20px;\n}\n\ninput,select,textarea {\n  font-size:11pt;font-family:'Microsoft YaHei';\n}\n\n.div-table {\n  display:table;\n  margin:0 auto;\n}\n\n.div-inline-block {\n  display:inline-block;\n}\n\n.div-block {\n  display:block;\n}\n\n.div-full {\n  width: var(--div-full-width);\n  padding: 6px;\n  border: 1px solid black;\n  display:block;\n}\n\n.div-top {\n  vertical-align:top;\n}\n\n.textarea-baInfo {\n  /* float:left; */\n  display:inline-block;\n  width: 100%;/* width: 800px; */\n  padding: 6px;\n}\n\n.div-icd-code{\n  width:130px;\n}\n\n.div-icd-desc{\n  width:240px;\n  vertical-align:top;\n}\n\n.div-icd-desc-inside{\n  width:240px;\n  padding: 4px 6px;\n  border:1px solid black;\n  white-space: nowrap;\n}\n\n.div-search-desc{\n  width: 400px;\n  display:block;\n}\n\n.background {\n  background-color: antiquewhite;\n}\n\n.hide {\n  display: none;\n}\n\n.div-drg {\n  color: red;\n  font-size: 14pt;\n  /* display:block; */\n}\n\n.div-input {\n  width: 200px;\n}\n\n.div-amount {\n  width: 60px;\n}\n\nlabel {\n  display:inline-block;\n}\n\n.label-short {\n  width:70px;\n}\n\n.input-short {\n  width:50px;\n  display:block;\n}\n\n.input-long {\n  width:100px;\n  display:block;\n}\n\n.input-file {\n  width:160px;display:inline-block;margin-left: 10px;\n}\n\n.icd-code{\n  width:100%;padding: 4px 6px;\n}\n\n.icd-name{\n  width:100%;\n  background-color:beige;cursor:not-allowed;opacity:0.6;\n}\n\n.zdList,.ssList {\n  width: 40%;\n  font-size: 11pt; \n  padding: 6px;\n}\n\npre {\n  white-space: pre-wrap; \n  color: blue; \n  font-size: 11pt; \n  font-family: monospace;\n}\n\ntable {\n  font-family: verdana,arial,sans-serif;\n  font-size:11px;\n  color:#333333;\n  border-width: 1px;\n  border-color: #666666;\n  border-collapse: collapse;\n  /* width: 100%; */\n}\nth {\n  border-width: 1px;\n  padding: 8px;\n  border-style: solid;\n  border-color: #666666;\n  background-color: #dedede;\n}\ntd {\n  border-width: 1px;\n  padding: 8px;\n  border-style: solid;\n  border-color: #666666;\n  background-color: #ffffff;\n}",""]);const l=s},7884:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",i=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),i&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),i&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,i,a,r){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(i)for(var l=0;l<this.length;l++){var o=this[l][0];null!=o&&(s[o]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);i&&s[d[0]]||(void 0!==r&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=r),n&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=n):d[2]=n),a&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=a):d[4]="".concat(a)),t.push(d))}},t}},4799:e=>{"use strict";e.exports=function(e){return e[1]}},3089:e=>{"use strict";var t=[];function n(e){for(var n=-1,i=0;i<t.length;i++)if(t[i].identifier===e){n=i;break}return n}function i(e,i){for(var r={},s=[],l=0;l<e.length;l++){var o=e[l],c=i.base?o[0]+i.base:o[0],d=r[c]||0,u="".concat(c," ").concat(d);r[c]=d+1;var p=n(u),h={css:o[1],media:o[2],sourceMap:o[3],supports:o[4],layer:o[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=a(h,i);i.byIndex=l,t.splice(l,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var r=i(e=e||[],a=a||{});return function(e){e=e||[];for(var s=0;s<r.length;s++){var l=n(r[s]);t[l].references--}for(var o=i(e,a),c=0;c<r.length;c++){var d=n(r[c]);0===t[d].references&&(t[d].updater(),t.splice(d,1))}r=o}}},8802:e=>{"use strict";var t={};e.exports=function(e,n){var i=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},5432:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},3666:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},7479:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,a&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(i,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},4605:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},2646:(e,t,n)=>{var i={"./anyang_2021.csv":[4272,4272],"./beijing_2022.csv":[8565,8565],"./changsha_2023.csv":[9718,9718],"./changzhou_2022.csv":[8066,8066],"./chengdu_2022.csv":[9288,9288],"./chs_drg_10.csv":[9649,9649],"./chs_drg_11.csv":[5845,5845],"./foshan_2022.csv":[1461,1461],"./fuzhou_2022.csv":[9544,9544],"./guangxi_2022.csv":[9167,9167],"./haerbin_2022.csv":[5438,5438],"./handan_2022.csv":[9557,9557],"./hefei_2023.csv":[9684,9684],"./jinan_2023.csv":[96,96],"./lanzhou_2023.csv":[8381,8381],"./liaocheng_2022.csv":[2360,2360],"./linfen_2022.csv":[3364,3364],"./linyi_2022.csv":[5088,5088],"./nanping_2023.csv":[2795,2795],"./qingdao_2023.csv":[8934,8934],"./suzhou_2023.csv":[4714,4714],"./taizhou_2022.csv":[2665,2665],"./tongchuan_2022.csv":[8838,8838],"./wlmq_2022.csv":[7212,7212],"./wuhan_2022.csv":[5909,5909],"./wuxi_2022.csv":[2736,2736],"./xian_2020.csv":[8261,8261],"./xjbt_2022.csv":[122,122],"./yancheng_2023.csv":[233,233],"./yantai_2023.csv":[2210,2210],"./yinchuan_2023.csv":[7266,7266],"./yunnan_2022.csv":[7839,7839],"./zhejiang_2022.csv":[3966,3966]};function a(e){if(!n.o(i,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=i[e],a=t[0];return n.e(t[1]).then((()=>n.t(a,23)))}a.keys=()=>Object.keys(i),a.id=2646,e.exports=a},3496:(e,t,n)=>{"use strict";e.exports=n.p+"4b3a35ba40d307d48d1c.xlsx"},2376:(e,t,n)=>{"use strict";e.exports=n.p+"9101a438135748d6bc78.xlsx"},4958:(e,t,n)=>{"use strict";e.exports=n.p+"f108f13b4a6c0c3507e5.csv"}},e=>{e(e.s=4658)}]);